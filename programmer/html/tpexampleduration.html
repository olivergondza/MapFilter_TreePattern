<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <title>MapFilter: TreePattern</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
    <script type="text/javaScript" src="search/search.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body onload='searchBox.OnSelectItem(0);'>

  <!-- this div will be closed in custom footer -->
  <div id="container">

    <div id="header">

      <h1>
        <a href="http://github.com/olivergondza/MapFilter_TreePattern">TreePattern</a>
      </h1>

      <div class="left">
        <pre>$ git clone git://github.com/olivergondza/MapFilter_TreePattern</pre>
      </div>

      <div class="right">
        <pre>Source: <a href="http://github.com/olivergondza/MapFilter_TreePattern/zipball/master"><strong>zip</strong></a
        > | <a href="http://github.com/olivergondza/MapFilter_TreePattern/tarball/master"><strong>tar</strong></a
        > | <a href="http://github.com/olivergondza/MapFilter_TreePattern"><strong>git</strong></a></pre>
      </div>

      </div>
      <div class="navigation">
        <div class="tabs">
          <ul class="tablist">
            <li><a href="../../user/html/index.html"><span>user</span></a></li>
            <li class="current"><a href="../../programmer/html/index.html"><span>programmer</span></a></li>
            <li><a href="../../internal/html/index.html"><span>internal</span></a></li>
          </ul>
        </div>
<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">MapFilter_TreePattern</a>      </li>
      <li class="navelem"><a class="el" href="treepattern.html">TreePattern</a>      </li>
      <li class="navelem"><a class="el" href="treepatterntreeexamples.html">TreePattern Tree examples</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Duration Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Simple structure of time interval validator.</p>
<p>The time of beginning is determined by <code>start_hour</code>, <code>start_minute</code> and <code>start_second</code>. The time of the end is determined either absolutely (<code>end_hour</code>, <code>end_minute</code>, <code>end_second</code>) or relatively (<code>duration_hour</code>, <code>duration_minute</code>, <code>duration_second</code>). The way of the end time specification can be recognized by flags (<code>ending_time</code> or <code>duration_time</code>). The missing/incorrect value is identified by assertion <code>no_<em>value</code></em>.</p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;!DOCTYPE pattern SYSTEM <span class="stringliteral">&quot;TreePattern053.dtd&quot;</span>&gt;
&lt;patterns&gt;
  &lt;pattern&gt;
    &lt;all flag=<span class="stringliteral">&quot;duration&quot;</span>&gt;

      &lt;all assert=<span class="stringliteral">&quot;no_beginning_time&quot;</span>&gt;
        &lt;key name=<span class="stringliteral">&quot;start_hour&quot;</span>   assert=<span class="stringliteral">&quot;no_start_hour&quot;</span>   attachPattern=<span class="stringliteral">&quot;hour&quot;</span> /&gt;
        &lt;key name=<span class="stringliteral">&quot;start_minute&quot;</span> assert=<span class="stringliteral">&quot;no_start_minute&quot;</span> attachPattern=<span class="stringliteral">&quot;minute&quot;</span> /&gt;
        &lt;key name=<span class="stringliteral">&quot;start_second&quot;</span> assert=<span class="stringliteral">&quot;no_start_second&quot;</span> attachPattern=<span class="stringliteral">&quot;second&quot;</span> /&gt;
      &lt;/all&gt;

      &lt;one assert=<span class="stringliteral">&quot;no_termination_time&quot;</span>&gt;

        &lt;all flag=<span class="stringliteral">&quot;ending_time&quot;</span>&gt;
          &lt;key name=<span class="stringliteral">&quot;end_hour&quot;</span>   assert=<span class="stringliteral">&quot;no_end_hour&quot;</span>   attachPattern=<span class="stringliteral">&quot;hour&quot;</span> /&gt;
          &lt;key name=<span class="stringliteral">&quot;end_minute&quot;</span> assert=<span class="stringliteral">&quot;no_end_minute&quot;</span> attachPattern=<span class="stringliteral">&quot;minute&quot;</span> /&gt;
          &lt;key name=<span class="stringliteral">&quot;end_second&quot;</span> assert=<span class="stringliteral">&quot;no_end_second&quot;</span> attachPattern=<span class="stringliteral">&quot;second&quot;</span> /&gt;
        &lt;/all&gt;

        &lt;all flag=<span class="stringliteral">&quot;duration_time&quot;</span>&gt;
          &lt;key name=<span class="stringliteral">&quot;duration_hour&quot;</span>   assert=<span class="stringliteral">&quot;no_duration_hour&quot;</span>   attachPattern=<span class="stringliteral">&quot;hour&quot;</span> /&gt;
          &lt;key name=<span class="stringliteral">&quot;duration_minute&quot;</span> assert=<span class="stringliteral">&quot;no_duration_minute&quot;</span> attachPattern=<span class="stringliteral">&quot;minute&quot;</span> /&gt;
          &lt;key name=<span class="stringliteral">&quot;duration_second&quot;</span> assert=<span class="stringliteral">&quot;no_duration_second&quot;</span> attachPattern=<span class="stringliteral">&quot;second&quot;</span> /&gt;
        &lt;/all&gt;

      &lt;/one&gt;

    &lt;/all&gt;
  &lt;/pattern&gt;

  &lt;pattern name=<span class="stringliteral">&quot;hour&quot;</span>&gt;
    &lt;value pattern=<span class="stringliteral">&quot;/^[1-9][0-9]*|0$/&quot;</span> /&gt;
  &lt;/pattern&gt;

  &lt;pattern name=<span class="stringliteral">&quot;minute&quot;</span>&gt;
    &lt;value pattern=<span class="stringliteral">&quot;/^[1-5]?[0-9]$/&quot;</span> /&gt;
  &lt;/pattern&gt;

  &lt;pattern name=<span class="stringliteral">&quot;second&quot;</span>&gt;
    &lt;value pattern=<span class="stringliteral">&quot;/^[1-5]?[0-9]$/&quot;</span> /&gt;
  &lt;/pattern&gt;
&lt;/patterns&gt;
</pre></div><p>There is a list of input arrays on the first row of each set and the result arrays on the second. Flags can be found on the third row and the assertions on the fourth.</p>
<div class="fragment"><pre class="fragment">        <span class="comment">// An absence of query set related assertions</span>
        Array (
            Array (),
            null,
            Array (),
            Array ( <span class="stringliteral">&#39;no_beginning_time&#39;</span>, <span class="stringliteral">&#39;no_start_hour&#39;</span> )
        ),
        <span class="comment">// An absence of termination time set related assertions</span>
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; 0 ),
            null,
            Array (),
            Array ( <span class="stringliteral">&#39;no_duration_hour&#39;</span>, <span class="stringliteral">&#39;no_end_hour&#39;</span>, <span class="stringliteral">&#39;no_termination_time&#39;</span> )
        ),
        <span class="comment">// An invalid value sets an assertion</span>
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; <span class="stringliteral">&#39;now&#39;</span> ),
            null,
            Array (),
            Array ( <span class="stringliteral">&#39;no_beginning_time&#39;</span>, <span class="stringliteral">&#39;no_start_second&#39;</span> =&gt; <span class="stringliteral">&#39;now&#39;</span> )
        ),
        <span class="comment">// Query OK; Nothing get trimmed; Appropriate flags are set</span>
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; 0, <span class="stringliteral">&#39;end_hour&#39;</span> =&gt; 1, <span class="stringliteral">&#39;end_minute&#39;</span> =&gt; 59, <span class="stringliteral">&#39;end_second&#39;</span> =&gt; 59 ),
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; 0, <span class="stringliteral">&#39;end_hour&#39;</span> =&gt; 1, <span class="stringliteral">&#39;end_minute&#39;</span> =&gt; 59, <span class="stringliteral">&#39;end_second&#39;</span> =&gt; 59 ),
            Array ( <span class="stringliteral">&#39;duration&#39;</span>, <span class="stringliteral">&#39;ending_time&#39;</span> ),
            Array ()
        ),
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; 0, <span class="stringliteral">&#39;duration_hour&#39;</span> =&gt; 1, <span class="stringliteral">&#39;duration_minute&#39;</span> =&gt; 59, <span class="stringliteral">&#39;duration_second&#39;</span> =&gt; 59 ),
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_second&#39;</span> =&gt; 0, <span class="stringliteral">&#39;duration_hour&#39;</span> =&gt; 1, <span class="stringliteral">&#39;duration_minute&#39;</span> =&gt; 59, <span class="stringliteral">&#39;duration_second&#39;</span> =&gt; 59 ),
            Array ( <span class="stringliteral">&#39;duration&#39;</span>, <span class="stringliteral">&#39;duration_time&#39;</span> ),
            Array ( <span class="stringliteral">&#39;no_end_hour&#39;</span> )
        ),
        <span class="comment">// Invalid value for start_hour set an assertion</span>
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; -1 ),
            null,
            Array (),
            Array (<span class="stringliteral">&#39;no_beginning_time&#39;</span>, <span class="stringliteral">&#39;no_start_hour&#39;</span> =&gt; -1 )
        ),
        <span class="comment">// Invalid value for set_minute set an assertion</span>
        Array (
            Array ( <span class="stringliteral">&#39;start_hour&#39;</span> =&gt; 0, <span class="stringliteral">&#39;start_minute&#39;</span> =&gt; 60 ),
            null,
            Array (),
            Array ( <span class="stringliteral">&#39;no_beginning_time&#39;</span>, <span class="stringliteral">&#39;no_start_minute&#39;</span> =&gt; 60 )
        )
</pre></div></div></div><!-- contents -->
      <pre class="footer">$ git clone git://github.com/olivergondza/MapFilter_TreePattern</pre></div>
    <address class="page_footer">
      <small>Generated for MapFilter by <a href="http://www.doxygen.org/index.html">doxygen</a>.</small>
    </address>
  </body>
</html>
